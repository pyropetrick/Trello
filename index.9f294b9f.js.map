{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAUA,MAAMC,EAAaC,SAASC,cAAc,+BACpCC,EAAQ,GAmBd,SAASC,GAAWC,OAACA,IACjB,MACMC,GADOD,EAAOE,WAAWA,WAAWA,WACrBC,aAAa,MAC5BC,EAAUN,EAAMO,WAAU,EAACC,GAACA,KAAQA,IAAOL,IACjDH,EAAMS,OAAOH,EAAS,GACtBI,IAGJ,SAASC,GAAOT,OAACA,KAGb,EAAAP,EAAAiB,gBASJ,SAASF,EAAWG,EAAOb,GACvB,MAAMc,EAAYhB,SAASC,cAAc,eACzCe,EAAUC,UAAY,GACtBF,EAAKG,SAAQ,EAACR,GAACA,EAAES,UAAEA,EAASC,YAAEA,EAAWC,KAAEA,EAAIC,UAAEA,MAC7C,MAAMC,EAAOvB,SAASwB,cAAc,MACpCD,EAAKE,UAAUC,IAAI,oBACnBH,EAAKI,aAAa,KAAMjB,GACxBa,EAAKI,aAAa,aAAa,GAC/BJ,EAAKK,MAAMC,WAAaP,EAGxB,MAAMQ,EAAc9B,SAASwB,cAAc,OAC3CM,EAAYL,UAAUC,IAAI,2BAI1B,MAAMK,EAAQ/B,SAASwB,cAAc,KACrCO,EAAMN,UAAUC,IAAI,0BACpBK,EAAMC,UAAYb,EAIlB,MAAMc,EAAOjC,SAASwB,cAAc,KACpCS,EAAKR,UAAUC,IAAI,yBACnBO,EAAKD,UAAYZ,EAGjB,MAAMc,EAAOlC,SAASwB,cAAc,KACpCU,EAAKT,UAAUC,IAAI,yBACnBQ,EAAKF,UAAY,GAIjB,MAAMG,EAAenC,SAASwB,cAAc,OAC5CW,EAAaV,UAAUC,IAAI,4BAI3B,MAAMU,EAAYpC,SAASwB,cAAc,OACzCY,EAAUX,UAAUC,IAAI,oCAIxB,MAAMW,EAAUrC,SAASwB,cAAc,UACvCa,EAAQZ,UAAUC,IAAI,iCACtBW,EAAQpB,UAAY,OACpBoB,EAAQC,iBAAiB,QAASzB,GAElC,MAAM0B,EAAYvC,SAASwB,cAAc,UACzCe,EAAUd,UAAUC,IAAI,mCACxBa,EAAUtB,UAAY,SACtBsB,EAAUD,iBAAiB,QAASnC,GAEpC,MAAMqC,EAAUxC,SAASwB,cAAc,UACvCgB,EAAQf,UAAUC,IAAI,iCACtBc,EAAQvB,UAAY,IAIpB,MAAMwB,EAAazC,SAASwB,cAAc,KAC1CiB,EAAWhB,UAAUC,IAAI,iCACzBe,EAAWxB,UAAYI,EAKvBS,EAAYY,OAAOX,GACnBD,EAAYY,OAAOT,GACnBH,EAAYY,OAAOR,GAInBE,EAAUM,OAAOL,GACjBD,EAAUM,OAAOH,GACjBJ,EAAaO,OAAON,GACpBD,EAAaO,OAAOF,GACpBL,EAAaO,OAAOD,GAGpBlB,EAAKmB,OAAOZ,GACZP,EAAKmB,OAAOP,GAGZnB,EAAU0B,OAAOnB,MAxFLvB,SAASC,cAAc,8BAC/BgB,UAAYf,EAAMyC,OAqH9B5C,EAAWuC,iBAAiB,SAtJ5B,WAEQpC,EAAMyC,QAAU,GAChB,EAAA9C,EAAA+C,aAAY,6DAEZ,EAAA/C,EAAAiB,mBAkJRjB,EAAAgD,gBAAgBP,iBAAiB,SAvBjC,WACI,IAIIQ,EAAO,IAAIC,KACXC,EA7HR,WACI,MAAMC,EAAIC,KAAKC,MAAuB,IAAjBD,KAAKE,UACpBC,EAAIH,KAAKC,MAAuB,IAAjBD,KAAKE,UACpBE,EAAIJ,KAAKC,MAAuB,IAAjBD,KAAKE,UAE1B,MADc,IAAIH,EAAEM,SAAS,MAAMF,EAAEE,SAAS,MAAMD,EAAEC,SAAS,MAyHnDC,GACRC,EAAO,CACP/C,GAAIqC,KAAKW,MACTvC,UAAWtB,EAAA8D,WAAWC,MACtBxC,YAAavB,EAAAgE,UAAUD,MACvBvC,KAAMyB,EAAKgB,eAAe,KAVhB,CACVC,KAAM,UACNC,OAAQ,YASR1C,UAAW0B,GAGf9C,EAAM+D,KAAKR,GACX7C,IACAf,EAAAqE,aAAazC,UAAU0C,OAAO,UAC9BtE,EAAA8D,WAAWC,MAAQ,GACnB/D,EAAAgE,UAAUD,MAAQ,M","sources":["src/components/Common.block/Card/card.js"],"sourcesContent":["import{\n    showEditMenu,  \n    showWarning, \n    modalTitle, \n    modalDesc,\n    modalWrapper,\n    modalBtnConfirm,\n\n} from '../modal/modal'\n\nconst btnAddTodo = document.querySelector('.item-todo__button-add-todo');\nconst todos = [];\n\nfunction addTodo() {\n\n    if (todos.length >= 6) {\n        showWarning('Вы пытаетесь добавить больше 6 карточек, удалить первую?');\n    } else {\n        showEditMenu();\n    }\n}\n\nfunction randomRGB() {\n    const r = Math.floor(Math.random() * (256)),\n          g = Math.floor(Math.random() * (256)),\n          b = Math.floor(Math.random() * (256)),\n          color = `#${r.toString(16)}${g.toString(16)}${b.toString(16)}`;\n    return color\n}\n\nfunction deleteCard({target}) {\n    const card = target.parentNode.parentNode.parentNode\n    const cardId = +card.getAttribute('id');\n    const cardIdx = todos.findIndex(({id}) => id === cardId);\n    todos.splice(cardIdx, 1);\n    renderTodo();\n}\n\nfunction onEdit({target}) {\n\n    \n    showEditMenu();\n}\n\nfunction renderCounter() {\n    const counter = document.querySelector('.item-todo__header-counter');\n    counter.innerHTML = todos.length;\n    \n}\n\nfunction renderTodo(list = todos) {\n    const tasksList = document.querySelector('.tasks-list');\n    tasksList.innerHTML = '';\n    list.forEach(({id, titleTask, description, time, colorItem}) => {\n        const task = document.createElement('li');\n        task.classList.add('tasks-list__item');\n        task.setAttribute('id', id);\n        task.setAttribute('draggable', true);\n        task.style.background = colorItem;\n\n        // titles \n        const titlesBlock = document.createElement('div');\n        titlesBlock.classList.add('tasks-list__item-titles');\n        \n        // title \n\n        const title = document.createElement('p');\n        title.classList.add('tasks-list__item-title');\n        title.innerText = titleTask;\n\n        // desc\n\n        const desc = document.createElement('p');\n        desc.classList.add('tasks-list__item-desc');\n        desc.innerText = description;\n\n        // user \n        const user = document.createElement('p');\n        user.classList.add('tasks-list__item-user');\n        user.innerText = '';\n\n        // actions \n\n        const actionsBlock = document.createElement('div');\n        actionsBlock.classList.add('tasks-list__item-actions');\n\n        // editing block\n\n        const editBlock = document.createElement('div');\n        editBlock.classList.add('tasks-list__item-actions-editing');\n\n        // buttons\n\n        const btnEdit = document.createElement('button');\n        btnEdit.classList.add('tasks-list__item-actions-edit');\n        btnEdit.innerHTML = 'Edit';\n        btnEdit.addEventListener('click', onEdit);\n\n        const btnDelete = document.createElement('button');\n        btnDelete.classList.add('tasks-list__item-actions-delete');\n        btnDelete.innerHTML = 'Delete';\n        btnDelete.addEventListener('click', deleteCard);\n\n        const btnJump = document.createElement('button');\n        btnJump.classList.add('tasks-list__item-actions-jump');\n        btnJump.innerHTML = '>';\n\n        // time \n\n        const timeCreate = document.createElement('p');\n        timeCreate.classList.add('tasks-list__item-actions-time');\n        timeCreate.innerHTML = time;\n\n        // composite to list\n\n        // titles \n        titlesBlock.append(title);\n        titlesBlock.append(desc);\n        titlesBlock.append(user);\n\n        // actions \n\n        editBlock.append(btnEdit);\n        editBlock.append(btnDelete);\n        actionsBlock.append(editBlock);\n        actionsBlock.append(btnJump);\n        actionsBlock.append(timeCreate);\n        \n        // task \n        task.append(titlesBlock);\n        task.append(actionsBlock);\n\n        // list \n        tasksList.append(task);\n\n        })\n\n        \n    renderCounter();\n}\n\nfunction confirmEdit()  {\n    let options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        }\n    let date = new Date();\n    let color = randomRGB();\n    let todo = {\n        id: Date.now(),\n        titleTask: modalTitle.value,\n        description: modalDesc.value,\n        time: date.toLocaleString('ru', options),\n        colorItem: color,\n    }\n\n    todos.push(todo);\n    renderTodo();\n    modalWrapper.classList.remove('active');\n    modalTitle.value = '';\n    modalDesc.value = '';\n}\n\nbtnAddTodo.addEventListener('click', addTodo);\nmodalBtnConfirm.addEventListener('click', confirmEdit);\n\n\n\n"],"names":["$kfrop","parcelRequire","$952677fe81bb372d$var$btnAddTodo","document","querySelector","$952677fe81bb372d$var$todos","$952677fe81bb372d$var$deleteCard","target","cardId","parentNode","getAttribute","cardIdx","findIndex","id","splice","$952677fe81bb372d$var$renderTodo","$952677fe81bb372d$var$onEdit","showEditMenu","list","tasksList","innerHTML","forEach","titleTask","description","time","colorItem","task","createElement","classList","add","setAttribute","style","background","titlesBlock","title","innerText","desc","user","actionsBlock","editBlock","btnEdit","addEventListener","btnDelete","btnJump","timeCreate","append","length","showWarning","modalBtnConfirm","date","Date","color","r","Math","floor","random","g","b","toString","$952677fe81bb372d$var$randomRGB","todo","now","modalTitle","value","modalDesc","toLocaleString","hour","minute","push","modalWrapper","remove"],"version":3,"file":"index.9f294b9f.js.map"}