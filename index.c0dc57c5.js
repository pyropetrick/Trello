!function(){function t(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},o=e.parcelRequire4193;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in s){var e=s[t];delete s[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){s[t]=e},e.parcelRequire4193=o),o.register("cNVft",(function(e,n){t(e.exports,"btnAddTodo",(function(){return p})),t(e.exports,"btnDeleteAll",(function(){return m})),t(e.exports,"addTodo",(function(){return f})),t(e.exports,"deleteAllCards",(function(){return g})),t(e.exports,"onWarningConfirm",(function(){return L})),t(e.exports,"onConfirm",(function(){return x}));var s=o("kfrop");let i=!1,a=0,d=0,r=!1;const c=[],l=[];let u=[];const p=document.querySelector(".card__button-add-todo"),m=document.querySelector(".card__button-delete-all");function f(){i=!0,(0,s.showEditMenu)()}function g(){(0,s.showWarning)("Вы уверены что хотите удалить все выполненные задачи?"),r=!0}function L(){r?(u=[],v(u,".done-list")):T(d),(0,s.closeWarning)()}function _({target:t}){const e=+t.parentNode.parentNode.parentNode.getAttribute("id"),n=c.findIndex((({id:t})=>t===e));c.splice(n,1),v(c,".todos-list")}function b({target:t}){const e=+t.parentNode.parentNode.parentNode.getAttribute("id"),n=u.findIndex((({id:t})=>t===e));u.splice(n,1),v(u,".done-list")}function h({target:t}){const e=t.parentNode.parentNode.parentNode,n=+e.getAttribute("id");a=n;const o=e.querySelector(".tasks-list__item-title").innerHTML,d=e.querySelector(".tasks-list__item-desc").innerHTML;s.modalTitle.value=o,s.modalDesc.value=d,i=!1,(0,s.showEditMenu)()}function M(t,e){document.querySelector(e).innerText=t.length}function k({target:t}){const e=+t.parentNode.parentNode.parentNode.getAttribute("id"),n=l.findIndex((({id:t})=>t===e));u.push(l[n]),l.splice(n,1),v(l,".progress-list"),v(u,".done-list")}function E({target:t}){const e=+t.parentNode.parentNode.parentNode.getAttribute("id"),n=l.findIndex((({id:t})=>t===e));c.push(l[n]),l.splice(n,1),v(l,".progress-list"),v(c,".todos-list")}function N({target:t}){const e=+t.parentNode.parentNode.getAttribute("id"),n=c.findIndex((({id:t})=>t===e));l.length>=6?(r=!1,d=n,(0,s.showWarning)(`Вы пытаетесь добавить ${l.length+1} карточку в рабочую область. Вы уверены что справитесь с таким количеством задач ? `)):T(n)}function T(t){l.push(c[t]),c.splice(t,1),v(c,".todos-list"),v(l,".progress-list"),(0,s.closeWarning)()}function v(t,e){const n=document.querySelector(e);n.innerHTML="",t.forEach((({id:t,titleTask:s,description:o,time:i,colorItem:a,userName:d})=>{const r=document.createElement("li");r.classList.add("tasks-list__item"),r.setAttribute("id",t),r.setAttribute("draggable",!0),r.style.background=a;const c=document.createElement("div");c.classList.add("tasks-list__item-titles");const l=document.createElement("p");l.classList.add("tasks-list__item-title"),l.innerText=s;const u=document.createElement("p");u.classList.add("tasks-list__item-desc"),u.innerText=o;const p=document.createElement("p");p.classList.add("tasks-list__item-user"),p.innerText=d;const m=document.createElement("div");m.classList.add("tasks-list__item-actions");const f=document.createElement("div");if(f.classList.add("tasks-list__item-actions-editing"),".todos-list"===e){const t=document.createElement("button");t.classList.add("tasks-list__item-actions-edit"),t.classList.add("button-card"),t.innerHTML="Edit",t.addEventListener("click",h);const e=document.createElement("button");e.classList.add("tasks-list__item-actions-delete"),e.classList.add("button-card"),e.innerHTML="Delete",e.addEventListener("click",_);const n=document.createElement("button");n.classList.add("tasks-list__item-actions-jump"),n.classList.add("button-card"),n.innerHTML=">",n.addEventListener("click",N),f.append(t),f.append(e),m.append(f),m.append(n)}else if(".progress-list"===e){const t=document.createElement("button");t.classList.add("tasks-list__item-actions-back"),t.classList.add("button-card"),t.innerHTML="Back",t.addEventListener("click",E);const e=document.createElement("button");e.classList.add("tasks-list__item-actions-complete"),e.classList.add("button-card"),e.innerHTML="Complete",e.addEventListener("click",k),m.classList.add("progress-actions"),f.append(t),f.append(e),m.append(f)}else if(".done-list"===e){const t=document.createElement("button");t.classList.add("tasks-list__item-actions-delete"),t.classList.add("button-card"),t.innerHTML="Delete",t.addEventListener("click",b),r.style.background="#00ce1b",m.classList.add("done-actions"),f.append(t),m.append(f)}const g=document.createElement("p");g.classList.add("tasks-list__item-actions-time"),g.innerHTML=i,c.append(l),c.append(u),c.append(p),m.append(g),r.append(c),r.append(m),n.append(r)})),M(c,".todos-counter"),M(u,".done-counter"),M(l,".progress-counter")}function x(){if(i){let t={hour:"numeric",minute:"numeric"},e=new Date,n=function(){const t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),n=Math.floor(256*Math.random());return`#${t.toString(16)}${e.toString(16)}${n.toString(16)}`}(),o={id:+`${Math.floor(10*Math.random())}${Math.floor(10*Math.random())}${Math.floor(10*Math.random())}${Math.floor(10*Math.random())}${Math.floor(10*Math.random())}${Math.floor(10*Math.random())}`,titleTask:s.modalTitle.value,description:s.modalDesc.value,time:e.toLocaleString("ru",t),colorItem:n,userName:s.currentUserName};c.push(o)}else{let t=c.findIndex((t=>t.id===a));c[t].titleTask=s.modalTitle.value,c[t].description=s.modalDesc.value,c[t].userName=s.currentUserName}v(c,".todos-list"),s.modalWrapper.classList.remove("active"),s.modalTitle.value="",s.modalDesc.value=""}})),o("cNVft")}();
//# sourceMappingURL=index.c0dc57c5.js.map
